// MongoDB initialization script for MapMark application
db = db.getSiblingDB('mapmark');

// Drop existing collection to ensure clean state on rebuild
db.locations.drop();
//test
// Create a collection for locations with geo index
db.createCollection('locations');

// Create 2dsphere index for geo queries
db.locations.createIndex({ "location": "2dsphere" });

// Base64 encoded real images for each location (SVG with city symbols)
const sampleImages = {
  "nyc": "data:image/svg+xml;base64,CiAgICA8c3ZnIHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICA8IS0tIEJhY2tncm91bmQgZ3JhZGllbnQgLS0+CiAgICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmctbmV3IHlvcmsgY2l0eSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CiAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWU0MGFmO3N0b3Atb3BhY2l0eToxIiAvPgogICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWU0MGFmZGQ7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8ZmlsdGVyIGlkPSJzaGFkb3ciIHg9Ii0yMCUiIHk9Ii0yMCUiIHdpZHRoPSIxNDAlIiBoZWlnaHQ9IjE0MCUiPgogICAgICAgICAgPGZlRHJvcFNoYWRvdyBkeD0iMiIgZHk9IjQiIHN0ZERldmlhdGlvbj0iMyIgZmxvb2QtY29sb3I9InJnYmEoMCwwLDAsMC4zKSIvPgogICAgICAgIDwvZmlsdGVyPgogICAgICA8L2RlZnM+CiAgICAgIAogICAgICA8IS0tIEJhY2tncm91bmQgLS0+CiAgICAgIDxyZWN0IHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIiBmaWxsPSJ1cmwoI2JnLW5ldyB5b3JrIGNpdHkpIi8+CiAgICAgIAogICAgICA8IS0tIENpdHkgc2t5bGluZSBzaWxob3VldHRlIC0tPgogICAgICA8cmVjdCB4PSIwIiB5PSIzMDAiIHdpZHRoPSI2NDAiIGhlaWdodD0iMTgwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuMykiLz4KICAgICAgCiAgICAgIDwhLS0gQnVpbGRpbmdzIC0tPgogICAgICA8cmVjdCB4PSI1MCIgeT0iMjUwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjMwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMTAwIiB5PSIyMDAiIHdpZHRoPSIzNSIgaGVpZ2h0PSIyODAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIxNTAiIHk9IjE4MCIgd2lkdGg9IjQ1IiBoZWlnaHQ9IjMwMCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjIyMCIgeT0iMjIwIiB3aWR0aD0iMzAiIGhlaWdodD0iMjYwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMjgwIiB5PSIxOTAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyOTAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIzNTAiIHk9IjIxMCIgd2lkdGg9IjM1IiBoZWlnaHQ9IjI3MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjQyMCIgeT0iMTcwIiB3aWR0aD0iNTAiIGhlaWdodD0iMzEwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iNTAwIiB5PSIyMDAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyODAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSI1NzAiIHk9IjE4MCIgd2lkdGg9IjM1IiBoZWlnaHQ9IjMwMCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIAogICAgICA8IS0tIFdpbmRvd3MgLS0+CiAgICAgIDxyZWN0IHg9IjYwIiB5PSIyNzAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSI3NSIgeT0iMjcwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iMTEwIiB5PSIyMjAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSIxMjUiIHk9IjIyMCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9IjE2MCIgeT0iMjAwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iMTc1IiB5PSIyMDAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICAKICAgICAgPCEtLSBNYWluIGxhbmRtYXJrIC0tPgogICAgICA8dGV4dCB4PSIzMjAiIHk9IjEyMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjQ4IiBmaWxsPSJ3aGl0ZSIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbHRlcj0idXJsKCNzaGFkb3cpIj4KICAgICAgICDwn5e9CiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gQ2l0eSBuYW1lIC0tPgogICAgICA8dGV4dCB4PSIzMjAiIHk9IjE2MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjMyIiBmaWxsPSJ3aGl0ZSIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbHRlcj0idXJsKCNzaGFkb3cpIj4KICAgICAgICBOZXcgWW9yayBDaXR5CiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVzY3JpcHRpb24gLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTkwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC45KSIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIFRoZSBDaXR5IFRoYXQgTmV2ZXIgU2xlZXBzCiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVjb3JhdGl2ZSBlbGVtZW50cyAtLT4KICAgICAgPGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSIzIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNykiLz4KICAgICAgPGNpcmNsZSBjeD0iNTQwIiBjeT0iODAiIHI9IjIiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgICA8Y2lyY2xlIGN4PSI1ODAiIGN5PSIxMjAiIHI9IjIiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgICA8Y2lyY2xlIGN4PSI2MCIgY3k9IjE0MCIgcj0iMiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjcpIi8+CiAgICA8L3N2Zz4KICA=",
  "london": "data:image/svg+xml;base64,CiAgICA8c3ZnIHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICA8IS0tIEJhY2tncm91bmQgZ3JhZGllbnQgLS0+CiAgICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmctbG9uZG9uIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNkYzI2MjY7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiNkYzI2MjZkZDtzdG9wLW9wYWNpdHk6MSIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxmaWx0ZXIgaWQ9InNoYWRvdyIgeD0iLTIwJSIgeT0iLTIwJSIgd2lkdGg9IjE0MCUiIGhlaWdodD0iMTQwJSI+CiAgICAgICAgICA8ZmVEcm9wU2hhZG93IGR4PSIyIiBkeT0iNCIgc3RkRGV2aWF0aW9uPSIzIiBmbG9vZC1jb2xvcj0icmdiYSgwLDAsMCwwLjMpIi8+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgIDwvZGVmcz4KICAgICAgCiAgICAgIDwhLS0gQmFja2dyb3VuZCAtLT4KICAgICAgPHJlY3Qgd2lkdGg9IjY0MCIgaGVpZ2h0PSI0ODAiIGZpbGw9InVybCgjYmctbG9uZG9uKSIvPgogICAgICAKICAgICAgPCEtLSBDaXR5IHNreWxpbmUgc2lsaG91ZXR0ZSAtLT4KICAgICAgPHJlY3QgeD0iMCIgeT0iMzAwIiB3aWR0aD0iNjQwIiBoZWlnaHQ9IjE4MCIgZmlsbD0icmdiYSgwLDAsMCwwLjMpIi8+CiAgICAgIAogICAgICA8IS0tIEJ1aWxkaW5ncyAtLT4KICAgICAgPHJlY3QgeD0iNTAiIHk9IjI1MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIzMCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjEwMCIgeT0iMjAwIiB3aWR0aD0iMzUiIGhlaWdodD0iMjgwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMTUwIiB5PSIxODAiIHdpZHRoPSI0NSIgaGVpZ2h0PSIzMDAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIyMjAiIHk9IjIyMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjI2MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjI4MCIgeT0iMTkwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjkwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMzUwIiB5PSIyMTAiIHdpZHRoPSIzNSIgaGVpZ2h0PSIyNzAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSI0MjAiIHk9IjE3MCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjMxMCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjUwMCIgeT0iMjAwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjgwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iNTcwIiB5PSIxODAiIHdpZHRoPSIzNSIgaGVpZ2h0PSIzMDAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICAKICAgICAgPCEtLSBXaW5kb3dzIC0tPgogICAgICA8cmVjdCB4PSI2MCIgeT0iMjcwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iNzUiIHk9IjI3MCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9IjExMCIgeT0iMjIwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iMTI1IiB5PSIyMjAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSIxNjAiIHk9IjIwMCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9IjE3NSIgeT0iMjAwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgCiAgICAgIDwhLS0gTWFpbiBsYW5kbWFyayAtLT4KICAgICAgPHRleHQgeD0iMzIwIiB5PSIxMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSI0OCIgZmlsbD0id2hpdGUiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWx0ZXI9InVybCgjc2hhZG93KSI+CiAgICAgICAg8J+PsAogICAgICA8L3RleHQ+CiAgICAgIAogICAgICA8IS0tIENpdHkgbmFtZSAtLT4KICAgICAgPHRleHQgeD0iMzIwIiB5PSIxNjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIzMiIgZmlsbD0id2hpdGUiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWx0ZXI9InVybCgjc2hhZG93KSI+CiAgICAgICAgTG9uZG9uCiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVzY3JpcHRpb24gLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTkwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC45KSIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIEhpc3RvcmljIENhcGl0YWwgb2YgRW5nbGFuZAogICAgICA8L3RleHQ+CiAgICAgIAogICAgICA8IS0tIERlY29yYXRpdmUgZWxlbWVudHMgLS0+CiAgICAgIDxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjcpIi8+CiAgICAgIDxjaXJjbGUgY3g9IjU0MCIgY3k9IjgwIiByPSIyIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNykiLz4KICAgICAgPGNpcmNsZSBjeD0iNTgwIiBjeT0iMTIwIiByPSIyIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNykiLz4KICAgICAgPGNpcmNsZSBjeD0iNjAiIGN5PSIxNDAiIHI9IjIiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgPC9zdmc+CiAg",
  "paris": "data:image/svg+xml;base64,CiAgICA8c3ZnIHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICA8IS0tIEJhY2tncm91bmQgZ3JhZGllbnQgLS0+CiAgICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmctcGFyaXMiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6IzdjM2FlZDtzdG9wLW9wYWNpdHk6MSIgLz4KICAgICAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzdjM2FlZGRkO3N0b3Atb3BhY2l0eToxIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGZpbHRlciBpZD0ic2hhZG93IiB4PSItMjAlIiB5PSItMjAlIiB3aWR0aD0iMTQwJSIgaGVpZ2h0PSIxNDAlIj4KICAgICAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjIiIGR5PSI0IiBzdGREZXZpYXRpb249IjMiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLDAuMykiLz4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgPC9kZWZzPgogICAgICAKICAgICAgPCEtLSBCYWNrZ3JvdW5kIC0tPgogICAgICA8cmVjdCB3aWR0aD0iNjQwIiBoZWlnaHQ9IjQ4MCIgZmlsbD0idXJsKCNiZy1wYXJpcykiLz4KICAgICAgCiAgICAgIDwhLS0gQ2l0eSBza3lsaW5lIHNpbGhvdWV0dGUgLS0+CiAgICAgIDxyZWN0IHg9IjAiIHk9IjMwMCIgd2lkdGg9IjY0MCIgaGVpZ2h0PSIxODAiIGZpbGw9InJnYmEoMCwwLDAsMC4zKSIvPgogICAgICAKICAgICAgPCEtLSBCdWlsZGluZ3MgLS0+CiAgICAgIDxyZWN0IHg9IjUwIiB5PSIyNTAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMzAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIxMDAiIHk9IjIwMCIgd2lkdGg9IjM1IiBoZWlnaHQ9IjI4MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjE1MCIgeT0iMTgwIiB3aWR0aD0iNDUiIGhlaWdodD0iMzAwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMjIwIiB5PSIyMjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSIyNjAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIyODAiIHk9IjE5MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjI5MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjM1MCIgeT0iMjEwIiB3aWR0aD0iMzUiIGhlaWdodD0iMjcwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iNDIwIiB5PSIxNzAiIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMTAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSI1MDAiIHk9IjIwMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjI4MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjU3MCIgeT0iMTgwIiB3aWR0aD0iMzUiIGhlaWdodD0iMzAwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgCiAgICAgIDwhLS0gV2luZG93cyAtLT4KICAgICAgPHJlY3QgeD0iNjAiIHk9IjI3MCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9Ijc1IiB5PSIyNzAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSIxMTAiIHk9IjIyMCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9IjEyNSIgeT0iMjIwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iMTYwIiB5PSIyMDAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSIxNzUiIHk9IjIwMCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIAogICAgICA8IS0tIE1haW4gbGFuZG1hcmsgLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iNDgiIGZpbGw9IndoaXRlIiBmb250LXdlaWdodD0iYm9sZCIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIPCfl7wKICAgICAgPC90ZXh0PgogICAgICAKICAgICAgPCEtLSBDaXR5IG5hbWUgLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTYwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMzIiIGZpbGw9IndoaXRlIiBmb250LXdlaWdodD0iYm9sZCIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIFBhcmlzCiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVzY3JpcHRpb24gLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTkwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC45KSIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIFRoZSBDaXR5IG9mIExpZ2h0CiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVjb3JhdGl2ZSBlbGVtZW50cyAtLT4KICAgICAgPGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSIzIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNykiLz4KICAgICAgPGNpcmNsZSBjeD0iNTQwIiBjeT0iODAiIHI9IjIiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgICA8Y2lyY2xlIGN4PSI1ODAiIGN5PSIxMjAiIHI9IjIiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgICA8Y2lyY2xlIGN4PSI2MCIgY3k9IjE0MCIgcj0iMiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjcpIi8+CiAgICA8L3N2Zz4KICA=",
  "tokyo": "data:image/svg+xml;base64,CiAgICA8c3ZnIHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICA8IS0tIEJhY2tncm91bmQgZ3JhZGllbnQgLS0+CiAgICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmctdG9reW8iIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICAgICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3R5bGU9InN0b3AtY29sb3I6I2VhNTgwYztzdG9wLW9wYWNpdHk6MSIgLz4KICAgICAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2VhNTgwY2RkO3N0b3Atb3BhY2l0eToxIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGZpbHRlciBpZD0ic2hhZG93IiB4PSItMjAlIiB5PSItMjAlIiB3aWR0aD0iMTQwJSIgaGVpZ2h0PSIxNDAlIj4KICAgICAgICAgIDxmZURyb3BTaGFkb3cgZHg9IjIiIGR5PSI0IiBzdGREZXZpYXRpb249IjMiIGZsb29kLWNvbG9yPSJyZ2JhKDAsMCwwLDAuMykiLz4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgPC9kZWZzPgogICAgICAKICAgICAgPCEtLSBCYWNrZ3JvdW5kIC0tPgogICAgICA8cmVjdCB3aWR0aD0iNjQwIiBoZWlnaHQ9IjQ4MCIgZmlsbD0idXJsKCNiZy10b2t5bykiLz4KICAgICAgCiAgICAgIDwhLS0gQ2l0eSBza3lsaW5lIHNpbGhvdWV0dGUgLS0+CiAgICAgIDxyZWN0IHg9IjAiIHk9IjMwMCIgd2lkdGg9IjY0MCIgaGVpZ2h0PSIxODAiIGZpbGw9InJnYmEoMCwwLDAsMC4zKSIvPgogICAgICAKICAgICAgPCEtLSBCdWlsZGluZ3MgLS0+CiAgICAgIDxyZWN0IHg9IjUwIiB5PSIyNTAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMzAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIxMDAiIHk9IjIwMCIgd2lkdGg9IjM1IiBoZWlnaHQ9IjI4MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjE1MCIgeT0iMTgwIiB3aWR0aD0iNDUiIGhlaWdodD0iMzAwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMjIwIiB5PSIyMjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSIyNjAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIyODAiIHk9IjE5MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjI5MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjM1MCIgeT0iMjEwIiB3aWR0aD0iMzUiIGhlaWdodD0iMjcwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iNDIwIiB5PSIxNzAiIHdpZHRoPSI1MCIgaGVpZ2h0PSIzMTAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSI1MDAiIHk9IjIwMCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjI4MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjU3MCIgeT0iMTgwIiB3aWR0aD0iMzUiIGhlaWdodD0iMzAwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgCiAgICAgIDwhLS0gV2luZG93cyAtLT4KICAgICAgPHJlY3QgeD0iNjAiIHk9IjI3MCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9Ijc1IiB5PSIyNzAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSIxMTAiIHk9IjIyMCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9IjEyNSIgeT0iMjIwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iMTYwIiB5PSIyMDAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSIxNzUiIHk9IjIwMCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIAogICAgICA8IS0tIE1haW4gbGFuZG1hcmsgLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTIwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iNDgiIGZpbGw9IndoaXRlIiBmb250LXdlaWdodD0iYm9sZCIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIPCfj68KICAgICAgPC90ZXh0PgogICAgICAKICAgICAgPCEtLSBDaXR5IG5hbWUgLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTYwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMzIiIGZpbGw9IndoaXRlIiBmb250LXdlaWdodD0iYm9sZCIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIFRva3lvCiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVzY3JpcHRpb24gLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTkwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC45KSIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIE1vZGVybiBNZXRyb3BvbGlzCiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVjb3JhdGl2ZSBlbGVtZW50cyAtLT4KICAgICAgPGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSIzIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNykiLz4KICAgICAgPGNpcmNsZSBjeD0iNTQwIiBjeT0iODAiIHI9IjIiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgICA8Y2lyY2xlIGN4PSI1ODAiIGN5PSIxMjAiIHI9IjIiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgICA8Y2lyY2xlIGN4PSI2MCIgY3k9IjE0MCIgcj0iMiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjcpIi8+CiAgICA8L3N2Zz4KICA=",
  "sydney": "data:image/svg+xml;base64,CiAgICA8c3ZnIHdpZHRoPSI2NDAiIGhlaWdodD0iNDgwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgICA8IS0tIEJhY2tncm91bmQgZ3JhZGllbnQgLS0+CiAgICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmctc3lkbmV5IiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj4KICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwNTk2Njk7c3RvcC1vcGFjaXR5OjEiIC8+CiAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMwNTk2NjlkZDtzdG9wLW9wYWNpdHk6MSIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxmaWx0ZXIgaWQ9InNoYWRvdyIgeD0iLTIwJSIgeT0iLTIwJSIgd2lkdGg9IjE0MCUiIGhlaWdodD0iMTQwJSI+CiAgICAgICAgICA8ZmVEcm9wU2hhZG93IGR4PSIyIiBkeT0iNCIgc3RkRGV2aWF0aW9uPSIzIiBmbG9vZC1jb2xvcj0icmdiYSgwLDAsMCwwLjMpIi8+CiAgICAgICAgPC9maWx0ZXI+CiAgICAgIDwvZGVmcz4KICAgICAgCiAgICAgIDwhLS0gQmFja2dyb3VuZCAtLT4KICAgICAgPHJlY3Qgd2lkdGg9IjY0MCIgaGVpZ2h0PSI0ODAiIGZpbGw9InVybCgjYmctc3lkbmV5KSIvPgogICAgICAKICAgICAgPCEtLSBDaXR5IHNreWxpbmUgc2lsaG91ZXR0ZSAtLT4KICAgICAgPHJlY3QgeD0iMCIgeT0iMzAwIiB3aWR0aD0iNjQwIiBoZWlnaHQ9IjE4MCIgZmlsbD0icmdiYSgwLDAsMCwwLjMpIi8+CiAgICAgIAogICAgICA8IS0tIEJ1aWxkaW5ncyAtLT4KICAgICAgPHJlY3QgeD0iNTAiIHk9IjI1MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIzMCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjEwMCIgeT0iMjAwIiB3aWR0aD0iMzUiIGhlaWdodD0iMjgwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMTUwIiB5PSIxODAiIHdpZHRoPSI0NSIgaGVpZ2h0PSIzMDAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSIyMjAiIHk9IjIyMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjI2MCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjI4MCIgeT0iMTkwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjkwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iMzUwIiB5PSIyMTAiIHdpZHRoPSIzNSIgaGVpZ2h0PSIyNzAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICA8cmVjdCB4PSI0MjAiIHk9IjE3MCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjMxMCIgZmlsbD0icmdiYSgwLDAsMCwwLjQpIi8+CiAgICAgIDxyZWN0IHg9IjUwMCIgeT0iMjAwIiB3aWR0aD0iNDAiIGhlaWdodD0iMjgwIiBmaWxsPSJyZ2JhKDAsMCwwLDAuNCkiLz4KICAgICAgPHJlY3QgeD0iNTcwIiB5PSIxODAiIHdpZHRoPSIzNSIgaGVpZ2h0PSIzMDAiIGZpbGw9InJnYmEoMCwwLDAsMC40KSIvPgogICAgICAKICAgICAgPCEtLSBXaW5kb3dzIC0tPgogICAgICA8cmVjdCB4PSI2MCIgeT0iMjcwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iNzUiIHk9IjI3MCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9IjExMCIgeT0iMjIwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgPHJlY3QgeD0iMTI1IiB5PSIyMjAiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC42KSIvPgogICAgICA8cmVjdCB4PSIxNjAiIHk9IjIwMCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjYpIi8+CiAgICAgIDxyZWN0IHg9IjE3NSIgeT0iMjAwIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNikiLz4KICAgICAgCiAgICAgIDwhLS0gTWFpbiBsYW5kbWFyayAtLT4KICAgICAgPHRleHQgeD0iMzIwIiB5PSIxMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSI0OCIgZmlsbD0id2hpdGUiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWx0ZXI9InVybCgjc2hhZG93KSI+CiAgICAgICAg8J+Pm++4jwogICAgICA8L3RleHQ+CiAgICAgIAogICAgICA8IS0tIENpdHkgbmFtZSAtLT4KICAgICAgPHRleHQgeD0iMzIwIiB5PSIxNjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIzMiIgZmlsbD0id2hpdGUiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWx0ZXI9InVybCgjc2hhZG93KSI+CiAgICAgICAgU3lkbmV5CiAgICAgIDwvdGV4dD4KICAgICAgCiAgICAgIDwhLS0gRGVzY3JpcHRpb24gLS0+CiAgICAgIDx0ZXh0IHg9IjMyMCIgeT0iMTkwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTYiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC45KSIgZmlsdGVyPSJ1cmwoI3NoYWRvdykiPgogICAgICAgIEhhcmJvciBDaXR5IERvd24gVW5kZXIKICAgICAgPC90ZXh0PgogICAgICAKICAgICAgPCEtLSBEZWNvcmF0aXZlIGVsZW1lbnRzIC0tPgogICAgICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjMiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC43KSIvPgogICAgICA8Y2lyY2xlIGN4PSI1NDAiIGN5PSI4MCIgcj0iMiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjcpIi8+CiAgICAgIDxjaXJjbGUgY3g9IjU4MCIgY3k9IjEyMCIgcj0iMiIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjcpIi8+CiAgICAgIDxjaXJjbGUgY3g9IjYwIiBjeT0iMTQwIiByPSIyIiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDAuNykiLz4KICAgIDwvc3ZnPgogIA=="
}
// test
// Insert sample location data with base64 images
db.locations.insertMany([
  {
    _id: ObjectId(),
    lat: 40.7128,
    lng: -74.0060,
    location: {
      type: "Point",
      coordinates: [-74.0060, 40.7128]
    },
    image: sampleImages.nyc,
    review: "Amazing view of the city skyline!",
    rating: 5,
    author: "John Doe",
    createdAt: new Date()
  },
  {
    _id: ObjectId(),
    lat: 51.5074,
    lng: -0.1278,
    location: {
      type: "Point",
      coordinates: [-0.1278, 51.5074]
    },
    image: sampleImages.london,
    review: "Beautiful historic architecture everywhere.",
    rating: 4,
    author: "Jane Smith",
    createdAt: new Date()
  },
  {
    _id: ObjectId(),
    lat: 48.8566,
    lng: 2.3522,
    location: {
      type: "Point",
      coordinates: [2.3522, 48.8566]
    },
    image: sampleImages.paris,
    review: "The city of lights never disappoints!",
    rating: 5,
    author: "Pierre Dubois",
    createdAt: new Date()
  },
  {
    _id: ObjectId(),
    lat: 35.6762,
    lng: 139.6503,
    location: {
      type: "Point",
      coordinates: [139.6503, 35.6762]
    },
    image: sampleImages.tokyo,
    review: "Incredible blend of tradition and modernity.",
    rating: 5,
    author: "Yuki Tanaka",
    createdAt: new Date()
  },
  {
    _id: ObjectId(),
    lat: -33.8688,
    lng: 151.2093,
    location: {
      type: "Point",
      coordinates: [151.2093, -33.8688]
    },
    image: sampleImages.sydney,
    review: "The harbor view is absolutely stunning!",
    rating: 4,
    author: "Sarah Wilson",
    createdAt: new Date()
  }
]);

print("Database initialized with sample location data and geo index created.");
